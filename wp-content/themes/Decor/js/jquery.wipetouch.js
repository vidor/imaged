(function(a){a.fn.wipetouch=function(c){var b={moveX:40,moveY:40,tapToClick:false,preventDefault:true,allowDiagonal:false,wipeLeft:false,wipeRight:false,wipeUp:false,wipeDown:false,wipeUpLeft:false,wipeDownLeft:false,wipeUpRight:false,wipeDownRight:false,wipeMove:false,wipeTopLeft:false,wipeBottomLeft:false,wipeTopRight:false,wipeBottomRight:false};if(c){a.extend(b,c)}this.each(function(){var j;var i;var g=false;var f;var e;var m=false;var r=false;var q=false;var p=false;function h(s){var t=q||(s.touches&&s.touches.length>0);if(!m&&t){if(b.preventDefault){s.preventDefault()}if(b.allowDiagonal){if(!b.wipeDownLeft){b.wipeDownLeft=b.wipeBottomLeft}if(!b.wipeDownRight){b.wipeDownRight=b.wipeBottomRight}if(!b.wipeUpLeft){b.wipeUpLeft=b.wipeTopLeft}if(!b.wipeUpRight){b.wipeUpRight=b.wipeTopRight}}if(q){j=s.pageX;i=s.pageY;a(this).bind("mousemove",d);a(this).bind("mouseout",o)}else{j=s.touches[0].pageX;i=s.touches[0].pageY;a(this).bind("touchmove",d)}g=new Date().getTime();f=j;e=i;m=true;r=a(s.target)}}function o(s){if(b.preventDefault){s.preventDefault()}if(q){a(this).unbind("mousemove",d);a(this).unbind("mouseout",o)}else{a(this).unbind("touchmove",d)}if(m){l(s)}else{k()}}function d(s){if(b.preventDefault){s.preventDefault()}if(m){if(q){f=s.pageX;e=s.pageY}else{f=s.touches[0].pageX;e=s.touches[0].pageY}if(b.wipeMove){n(b.wipeMove,{curX:f,curY:e})}}}function l(z){var w=new Date().getTime();var u=g-w;var B=f;var A=e;var J=B-j;var F=A-i;var t=Math.abs(J);var I=Math.abs(F);if(t<15&&I<15&&u<100){p=false;if(b.preventDefault){k();r.trigger("click");return}}else{if(q){var E=r.data("events");if(E){var D=E.click;if(D&&D.length>0){a.each(D,function(s,x){p=x;return});r.unbind("click")}}}}var C=J>0;var v=F>0;var H=((t+I)*60)/((u)/6*(u));if(H<1){H=1}if(H>5){H=5}var G={speed:parseInt(H),x:t,y:I};if(t>=b.moveX){if(b.allowDiagonal&&I>=b.moveY){if(C&&v){n(b.wipeDownRight,G)}else{if(C&&!v){n(b.wipeUpRight,G)}else{if(!C&&v){n(b.wipeDownLeft,G)}else{n(b.wipeUpLeft,G)}}}}else{if(t>=I){if(C){n(b.wipeRight,G)}else{n(b.wipeLeft,G)}}}}else{if(I>=b.moveY&&I>t){if(v){n(b.wipeDown,G)}else{n(b.wipeUp,G)}}}k()}function k(){j=false;i=false;g=false;m=false;if(p){window.setTimeout(function(){r.bind("click",p);p=false},100)}}function n(t,s){if(t){t(s)}}if("ontouchstart" in document.documentElement){a(this).bind("touchstart",h);a(this).bind("touchend",o)}else{if(navigator.userAgent.toLowerCase().indexOf("windows phone")){q=true;a(this).bind("mousedown",h);a(this).bind("mouseup",o)}}});return this}})(jQuery);